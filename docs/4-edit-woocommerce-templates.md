# Edit WooCommerce Templates

## Search Keywords

- How to edit WooCommerce templates?
- Customize WooCommerce template files

- There're two ways to customize `WooCommerce` template files:
  1. By overriding template files
  2. By using hooks (Actions & filters)

## Method 1: Overriding WooCommerce Files

> This method is well-documented in the original file template!

- Copy file from `WooCommerce` plugin
- Paste it in the root theme folder, in `WooCommerce` sub directory
- Customize the template using HTML or add more PHP hooks

> **Demo:** See `/woocommerce/archive-product.php` file.

## Drawbacks of This Method

- This method requires try and error, many times
- WooCommerce changes from time to time, so you will track the changes made on their files, especially `hooks`, then update your code.
- You can track the changes by going to `WooCommerce -> status`, and you will see all the files overridden.
- Fortunately, the changes to temp files are rare!

## Method 1 Example: Modifying Shop Page `archive-product.php`

### My Modifications

1. Wrap all hooks inside `<div class="container"><div class="row">`
2. Create 2 columns, 1 for sidebar, and another for the main content

**Note:** `PHP` original comments has been removed from this file.

```php
<?php
defined( 'ABSPATH' ) || exit;

get_header( 'shop' );
?>
// 1. Wrap the document with `container` and `row`
<div class="container">
  <div class="row">
    // 2. Create a column for the main content
    <div class="col-lg-9 col-md-8 order-1 order-md-2">
    <?php
      do_action( 'woocommerce_before_main_content' );?>

        <header class="woocommerce-products-header">
          <?php
            if ( apply_filters( 'woocommerce_show_page_title', true ) ) : ?>
              <h1 class="woocommerce-products-header__title page-title"><?php woocommerce_page_title(); ?></h1>
            <?php endif; ?>

          <?php
            do_action( 'woocommerce_archive_description' ); ?>
        </header>
    <?php
      if ( woocommerce_product_loop() ) {
        do_action( 'woocommerce_before_shop_loop' );
        woocommerce_product_loop_start();

      if ( wc_get_loop_prop( 'total' ) ) {
        while ( have_posts() ) {
          the_post();

          do_action( 'woocommerce_shop_loop' );
          wc_get_template_part( 'content', 'product' );
        }
      }

        woocommerce_product_loop_end();
        do_action( 'woocommerce_after_shop_loop' );
      } else {
        do_action( 'woocommerce_no_products_found' );
      }

      do_action( 'woocommerce_after_main_content' ); ?>
    </div>
    // 3. Create a column for the sidebar
    <div class="col-lg-3 col-md-4 order-2 order-md-1">
      <?php
  		  do_action( 'woocommerce_sidebar' ); ?>
    </div>
  </div>
</div>

<?php get_footer( 'shop' );
```

## Method 2: Modifying of Shop Page Using `WooCommerce` Actions and Filters Hooks

- It's recommended by `WooCommerce` community.
- You will apply very few changes to the template files.
- No need to copy the original `WooCommerce` file, that means, you don't need to apply any change in the original file / template.
- It's more complicated, and takes time to understand the process.

### How it Works

- Use `Simple show hooks` plugin.
- Show all hooks by clicking on the plugin option in the admin bar.
- You can see the name of function used in the hook by hovering over the `hook`.
- In `WordPress`, each `add_action` corresponds with 1 `do_action` hook.

### Method Issues When I Applied the Changes

- When I applied the function in the `hook` of `woocommerce_before_main_content`, the wrapper `container` and `row` divs didn't placed at the right position in the DOM! Why? Because the priority was 10!
- Pay attention! if you placed the closing `container` and `row` divs in the `woocommerce_after_main_content` hook, you will wrap the first column only!

```php
<?php
/** Modifying WooCommerce templates using actions and filters hooks
 * 1. Add container and row wrappers
 * 2. Add closing tags of container and row wrappers
 * 3. Remove default sidebar to be echoed later inside new sidebar tags
 * 4. Adding sidebar again after removing default sidebar that's generated by woocommerce. We remove it because it's in the wrong place!
 * 4.A. Add sidebar tags
 * 4.B. Add sidebar again using another hook (custom)
 * 4.C. Add closing sidebar tags
 * 5. If we in Shop page, add a short description to the product
 * 6. Add opening shop tags
 * 7. Add closing shop tags
 */

function fancy_lab_wc_modify() {
  // 1. Add opening container and row wrappers tags
  function fancy_lab_open_container_row() {
    echo '<div class="container shop-content"><div class="row">';
  }

  add_action( 'woocommerce_before_main_content', 'fancy_lab_open_container_row', 5 ); // must have priority greater than 10, the default priority is 10

  // 2. Add closing container and row wrappers tags
  function fancy_lab_close_container_row() {
    echo '</div></div>';
  }

  add_action( 'woocommerce_after_main_content', 'fancy_lab_close_container_row', 5 ); // should have the same priority as <opening tags>

  // 3. Remove default sidebar to be echoed later inside new sidebar tags
  remove_action( 'woocommerce_sidebar', 'woocommerce_get_sidebar' );

  // Add sidebar only to shop page and remove it from other pages
  if ( is_shop() ) {
    // 4. Adding sidebar again after removing default sidebar that's generated by woocommerce. We remove it because it's in the wrong place!
    // 4.A. Add sidebar opening tags
    function fancy_lab_open_sidebar_tags() {
      echo '<div class="sidebar-shop col-lg-3 col-md-4 order-2 order-md-1">';
    }

    add_action( 'woocommerce_before_main_content', 'fancy_lab_open_sidebar_tags', 6 ); // (6) because we want it inside .container and row wrappers, which have a value of (5)

    // 4.B. Add sidebar again using another hook (custom)
    add_action( 'woocommerce_before_main_content', 'woocommerce_get_sidebar', 7 ); // (6: tags, 7: get_sidebar)

    // 4.C. Add closing sidebar tags
    function fancy_lab_close_sidebar_tags() {
      echo '</div>';
    }

    add_action( 'woocommerce_before_main_content', 'fancy_lab_close_sidebar_tags', 8 );

    // 5. If we in Shop page, add a short description to the product
    add_action( 'woocommerce_after_shop_loop_item_title', 'the_excerpt', 1 );
  }

  // 6. Add opening shop tags
  function fancy_lab_open_shop_tags() {
    // The content size for shop page is 9 col, for other pages is 12
    if ( is_shop() ) {
      echo '<div class="col-lg-9 col-md-8 order-1 order-md-2">';
    } else {
      echo '<div class="col">';
    }
  }

  add_action( 'woocommerce_before_main_content', 'fancy_lab_open_shop_tags', 9 );

  // 7. Add closing shop tags
  function fancy_lab_close_shop_tags(){
    echo '</div>';
  }

  add_action( 'woocommerce_after_main_content', 'fancy_lab_close_shop_tags', 4 );


  /**
   * Filters return only true or false
   * Filter: input -> processing -> output
   */

  /*
  function fancy_lab_remove_shop_title( $val ) { // input
    $val = false; // processing (You can't return a string, just bool)
    return $val; // output
    // If one $param, you can write the function in a simpler way function x() { return false }
  }

  add_filter( 'woocommerce_show_page_title', 'fancy_lab_remove_shop_title' );
  */

}

add_action( 'wp', 'fancy_lab_wc_modify' );
```

## Modifying Single Product Template `single-product.php`

- In this template, we applied styles in CSS in general, then we excluded the `Shop` page from our applied styles using `WordPress conditional tags -> is_shop()`.

## Modifying Cart Page

Unfortunately! This page doesn't come with file template like `Shop` page, it comes from `page.php` WordPress template. The only way to edit this template is to edit `page.php` and apply general styles.

All the functionality in this pages comes from the shortcode `[woocommerce_cart]`.

## Modifying Checkout Page

- This page is also comes from `page.php` template.
- The best solution is to override the default `WooCommerce` style, which is like a `grid` system, in your custom style.
- You can start the modification by inspecting the elements, then search in your code with the corresponding class names.

### Changes Applied Using `CSS`

- In `wc-grid.css` file, I updated the style of `Checkout` page using these rules:

```css
.woocommerce .col2-set .col-1,
.woocommerce .col2-set .col-2 {
	flex: 0 0 50%;
	max-width: 50%;
}
```

## Modifying Account Page

- Allow for at least 1 payment method from `WooCommerce -> Payments`.
-
